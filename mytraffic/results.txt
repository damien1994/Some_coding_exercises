# This is a sample Python script.

# Press ⇧F10 to execute it or replace it with your code.
# Press Double ⇧ to search everywhere for classes, files, tool windows, actions, and settings.
import json


def sum_input_file(filename):
    with open(filename) as f:
        return sum(int(line) for line in f.readlines())


def convert_json_to_tree(filename):
    with open(filename) as f:
        data = json.load(f)
        count = 0
        for item in data:
            children_recursive(item, count)


def children_recursive(item, count):
    if count == 0:
        print('- {0}'.format(item['value']))
    else:
        print('    ' * count, '- {0}'.format(item['value']))
    if len(item['children']) > 0:
        count += 1
        for child in item['children']:
            children_recursive(child, count)


def transform_json_to_tree(filename):
    with open(filename) as f:
        data = json.load(f)
        roots = []
        graph = {value: set() for dic in data for value in dic}
        print(graph)
        for item in data:
            if item['parent'] is None:
                roots.append(item['value'])
            else:
                graph[item['parent']].add(item['value'])
        print(roots)


if __name__ == '__main__':
    print(sum_input_file("foo.txt"))
    convert_json_to_tree("hierarchy.json")
    transform_json_to_tree("hierarchy_2.json")
